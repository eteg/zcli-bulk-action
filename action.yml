name: zcli-bulk-action
description: Github Action to deploy Zendesk Apps using ZCLI to multiple instances.
inputs:
  PATH:
    description: Path to the app dist directory.
    required: true
    default: "dist"
  ENVIRONMENT:
    description: "Environment"
    default: ${{github.ref_name == 'main' && 'production' || 'staging'}}
  CUSTOMERS:
    description: "List of customers to deploy to"
    default: ${{ toJSON(secrets.CUSTOMERS) }}
runs:
  using: "node16"
  main: "dist/index.js"
